#version 430 core

layout(local_size_x = 16, local_size_y = 16) in;

layout(binding = 0, r8) uniform image2D heightmap;

void main() {
    ivec2 p = ivec2(gl_GlobalInvocationID.xy);

    // Lecture
    float h = imageLoad(heightmap, p).r;

    // Exemple : appliquer un flou basique
    float v = h * 0.9;

    // Ã‰criture
    imageStore(heightmap, p, vec4(v, 0, 0, 1));
}
